---
layout: default
title: 한 권으로 읽는 컴퓨터 구조와 프로그래밍 4장
parent: 한 권으로 읽는 컴퓨터 구조와 프로그래밍
Grand_parent: Book Reviews
nav_order: 4


---





![slp1]()

한 권으로 읽는 컴퓨터 구조와 프로그래밍

조너선 스타인하트 지음. 오현석 옮김. 책만



{:toc}

# 6장 입출력과 네트워킹
: 컴퓨터는 외부와 어떻게 상호작용하는가



## 저수준 I/O

가장 단순한 I/O는 CPU가 읽거나 쓸 수 있는 비트에 물건을 연결한 형태의 I/O이다.

### 1. I/O 포트

포트 B는 세 가지 레지스터에 의해 제어된다. **DDRB(Data Direction Register B)**는 데이터 방향 레지스터로 각 핀을 입력으로 쓸지 출력으로 쓸지 결정한다. **PORTB**는 출력 데이터를 저장하는 래치이다. **PINB**는 핀의 값을 읽는다. 

### 2. 버튼

푸시 버튼은 두 접점과 버튼이 눌리면 두 접점을 연결해주는 금속조각으로 이루어져 있다. 

[푸시 버튼 회로]



>┌────────┐            ┌────────┐
>
>│                      │             │                      │
>
>\+                      R            │  프로세서     │
>
>V                       ├────┤ IRQ               │ 
>
>\- ──  *      *──┘           └────────┘       
>

R은 풀업 저항이라고 부른다. 버튼이 눌리지 않은 경우 이 저항이 프로세서의 인터럽트 요청(IRQ, interrupt request) 핀에 연결된 선의 전압을 공급 전압 V까지 올려서 논리 1을 만들어 준다. 버튼이 눌리면 저항은 IRQ나 회로가 타지 않게 V에서 흘러오는 전류를 제한하면서 IRQ에 노리 0을 공급한다.

이때 버튼에 연결된 금속 조각이 접점에 닿으면서 접촉면이 안정될 때까지  bounce된다. 이를 막기 위해 인터럽트 핸들러에 타이머를 설정하고 그 시간이 지나면 버튼 상태를 감지한다. 이 방법 외에 소프트웨어로 주기적인 인터럽트를 만들어내는 타이머를 많이 사용한다. 



### 3. 빛

디스플레이가 포함된 장치가 많은데 가장 흔한 유형의 표시 장치는 7세그먼트(segment) 디스플레이다. 

각 디스플레이를 별도의 I/O 포트에 연결할 수 있지만 프로세서가 충분한 수의 포트를 제공 못하는 경우도 많다. 이를 해결하기 위해 디스플레이의 애노드를 포트 A에 연결하고 캐소드를 B에 연결해서 디스플레이를 멀티플렉스(Multiplex)한다.

디스플레이의 작동하게 하기 위해 사람의 시각의 잔상효과(persistence of vision)을 활용한다. 타이머 인터럽트 핸들러를 사용하여 짧은 시간 간격으로 디스플레이를 계속 변경하면서 세그먼트를 짧게 켰다 껐다 하면 세그먼트가 계속 켜진 것처럼 보이게 할 수 있다.

### 4. 빛, 동작, 그리고 상호연동

여러 장치에 버튼과 디스플레이가 함께 있는 경우, 버튼과 디스플레이의 입력을 멀티플렉싱하면 핀을 덜 써도 된다. 

### 5. 밝기 조절

디스플레이의 밝기 조절은 듀티 사이클(duty cycle)을 조절함으로써 가능하다. 즉 디스플레이를 짧은 간격으로 껐다켰다 조절하는데 밝기는 디스플레이가 켜져 있는 평균 시간과 관련이 있다.

### 6. 그레이 코드

센서를 읽어서 최전축의 위치를 알아내야 할 때 축의 위치를 2진수로 인코딩해야 한다. 이때 그레이 코드(Gray code) 방식의 각도가 달라질 때 비트가 하나씩만 달라지는 인코딩 방법을 사용하면 쉽게 2진 코드로 바꿀 수 있다.

### 7. 쿼드러처

쿼드러쳐 인코딩은 절대적인 위치는 안 알려주지만 위치가 어떤 방향으로 얼마나 변했는지를 알려주는 인코딩 방법이다. 마우스가 이 방법을 사용한다.

### 8. 병렬 통신

(추후 이해한 후에 정리)

### 9. 직렬 통신

(추후 이해한 후에 정리)

### 10. 파동



### 11. 범용 직렬 버스

USB(Universal Serial Bus) 



## 네트워킹

네트워크는 일반적으로 두 가지로 구분한다. 근거리 네트워크(LAN, Local area network)는 집처럼 좁은 지리적 영역을 묶고, 광역 네트워크(WAN, Wide area network)는 더 넓은 지리적 영역을 묶는다.

최초의 네트워크는 전신 네트워크였고 나중에 전화 네트워크로 발전했다.

현재의 전화 시스템은 패킷 교환(packet switch) 방식을 사용한다.



## 1. 최근의 LAN들

요즘은 각 장치가 라우터(router)라는 장치에 연결되며, 라우터는 어떤 장치가 어떤 선에 연결되어있는지를 기억하고 패킷을 정확히 배달해준다. 

### 2. 인터넷

인터넷은 물리적인 네트워크가 아니고 여러 계층으로 이뤄진 프로토콜의 집합이다. 이 프로토콜 계층은 물리적 네트워크를 정의하는 아래쪽 계층을 변경해도 위쪽 계층에 영향을 끼치지 않도록 고안되었다. 

#### TCP/IP(전송 제어 프로토콜/인터넷 프로토콜)

IP는 패킷을 한 곳에서 다른 곳으로 옮겨주며, 이 패킷을 데이터그램(datagram)이라고 부른다. IP를 사용해 메시지를 보낸 송신자는 수신자가 메시지를 제대로 받았는지 확신할 수 없다. TCP는 IP 위에 만들어졌고 패킷이 제대로 배달됐는지를 확실히 보장해준다. 

#### IP 주소

인터넷 상의 각 컴퓨터에는 IP주소라는 유일한 주소가 할당되어 있다. MAC 주소와 달리 IP 주소는 하드웨어에 묶여 있지 않아서 변경될 수도 있다. 

#### DNS(도메인 이름 시스템)

DNS는 이름을 주소로 바꿔준다. 장치의 IP 주소가 바뀌더라도 장치의 실제 주소를 잘 찾아준다.

#### 월드 와이드 웹

TCP/IP 위에서 만들어진 여러 프로토콜이 있는데 가장 많이 쓰는 것은 HTTP이다. 하이퍼텍스트 전송 프로토콜(HyperText Transfer Protocol)의 약자로 웹 페이지 전송을 책임진다. 

HTTP 표준은 웹 브라우저가 웹 서버와 상호작용하는 방법을 정의한다. 

웹 페이지는 보통 HTML로서 존재한다.



## 아날로그 처리 방법



### 1. 디지털을 아날로그로 변환



### 2. 아날로그를 디지털로 변환



### 3. 디지털 오디오



### 4. 디지털 이미지



### 5. 비디오



## 휴먼 인터페이스 장치

### 1. 터미널



### 2. 그래픽 터미널



### 3. 벡터그래픽



### 4. 래스터 그래픽



### 5. 키보드왕 마우스

